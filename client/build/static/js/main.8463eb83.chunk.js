(this["webpackJsonpfungi-react"]=this["webpackJsonpfungi-react"]||[]).push([[0],{101:function(e,t,a){},130:function(e,t,a){e.exports=a.p+"static/media/tester.baa7e5b3.svg"},134:function(e,t,a){e.exports=a(286)},161:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},283:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a(21),o=a.n(l),s=a(5),u=a(12),i=a(7),m=a.n(i),p=a(11),d=a(15),f=a.n(d),g=Object(n.createContext)();function b(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),c=a[0],l=a[1];function o(){return u.apply(this,arguments)}function u(){return(u=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("https://react-forager.herokuapp.com","/auth/loggedIn"));case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(g.Provider,{value:{loggedIn:c,getLoggedIn:o}},e.children)}var h=g,E=a(10),v=Object(n.createContext)(),O={errors:null,isLoading:!0,user:"",images:[]},j=function(e,t){switch(t.type){case"login":return Object(E.a)(Object(E.a)({},e),{},{user:t.payload,images:[]});case"logout":return Object(E.a)(Object(E.a)({},e),{},{user:"",images:[]});case"fetchImages":return Object(E.a)(Object(E.a)({},e),{},{images:t.payload,isLoading:!0});case"fetchSuccess":return Object(E.a)(Object(E.a)({},e),{},{images:t.payload,isLoading:!1});case"fetchFail":return Object(E.a)(Object(E.a)({},e),{},{errors:t.payload,isLoading:!1});case"setTags":return Object(E.a)(Object(E.a)({},e),{},{tags:t.payload});default:return e}};a(99);var y=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(s.a)(l,2),i=o[0],d=o[1],g=Object(n.useContext)(h).getLoggedIn,b=Object(n.useContext)(v).dispatch,E=Object(u.e)(),O="https://react-forager.herokuapp.com";function j(){return(j=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f.a.post("".concat(O,"/auth/login"),{email:a,password:i});case 4:return n=e.sent,r=n.data,e.next=8,g();case 8:b({type:"login",payload:r._id}),window.localStorage.setItem("user",JSON.stringify(r._id)),E.push("/gallery"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"login-form"},r.a.createElement("form",{onSubmit:function(e){return j.apply(this,arguments)}},r.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(e){return c(e.target.value)},value:a}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)},value:i}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"log in"))))};var w=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(s.a)(l,2),i=o[0],d=o[1],g=Object(n.useState)(""),b=Object(s.a)(g,2),E=b[0],v=b[1],O="https://react-forager.herokuapp.com",j=Object(n.useContext)(h).getLoggedIn,y=Object(u.e)();function w(){return(w=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:i,passwordVerify:E},e.next=5,f.a.post("".concat(O,"/auth/"),n);case 5:return e.next=7,j();case 7:y.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"register-form"},r.a.createElement("form",{onSubmit:function(e){return w.apply(this,arguments)}},r.a.createElement("input",{type:"email",placeholder:"Email",autoComplete:"off",onChange:function(e){return c(e.target.value)},value:a}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"Password",autoComplete:"off",onChange:function(e){return d(e.target.value)},value:i}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"Verify your password",autoComplete:"off",onChange:function(e){return v(e.target.value)},value:E}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Register"))))},x=a(130),k=a.n(x),N=(a(161),function(){return r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"welcome"},r.a.createElement("img",{src:k.a,alt:"mushroom"}),r.a.createElement("p",null,"i'm a pretty fungi")))});a(101);var S=function(){var e=Object(n.useContext)(h).getLoggedIn,t=Object(n.useContext)(v).dispatch,a=Object(u.e)(),c="https://react-forager.herokuapp.com";function l(){return(l=Object(p.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.get("".concat(c,"/auth/logout"));case 2:return n.next=4,e();case 4:t({type:"logout"}),window.localStorage.setItem("user",null),a.push("/");case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return r.a.createElement("button",{onClick:function(){return l.apply(this,arguments)}},"log out")};var C=function(){var e=Object(n.useContext)(h).loggedIn;return r.a.createElement("div",{className:"nav-links"},!1===e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(c.c,{to:"/login"},"log in"),r.a.createElement(c.c,{to:"/register"},"register")),!0===e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(c.c,{to:"/gallery"},"gallery"),r.a.createElement(c.c,{to:"/map"},"map"),r.a.createElement(S,null)))},I=a(42),L=a(296),F=a(297),T=a(131);function _(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),i=u[0],d=u[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),b=g[0],h=g[1],E=Object(n.useState)(""),O=Object(s.a)(E,2),j=O[0],y=O[1],w=Object(n.useState)(),x=Object(s.a)(w,2),k=x[0],N=x[1],S=Object(n.useState)(),C=Object(s.a)(S,2),I=C[0],_=C[1],z=Object(n.useState)(),J=Object(s.a)(z,2),B=J[0],H=J[1],P=Object(n.useState)(),R=Object(s.a)(P,2),W=R[0],D=R[1],G=Object(n.useState)(!0),M=Object(s.a)(G,2),U=M[0],A=M[1],V=Object(n.useContext)(v).state.user,Z=function(e){if(e.preventDefault(),k){var t=new FileReader;t.readAsDataURL(k),t.onloadend=function(){q(t.result)},t.onerror=function(e){console.error("line 58: ",e.message)}}},q=function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://react-forager.herokuapp.com","/auth/upload"),{method:"POST",body:JSON.stringify({data:a,user:V,name:W,commonNames:I,notes:B,identification:U}),headers:{"Content-Type":"application/json"}});case 3:e.loadimages(),e.onHide(!1),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(L.a,{show:e.show,size:"lg"},r.a.createElement(L.a.Body,null,r.a.createElement(F.a,{onSubmit:Z,className:"image-form"},r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Control,{id:"fileInput",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];N(t),l(e.target.value)},value:c,className:"form-input"}),r.a.createElement(F.a.Control,{id:"name",type:"text",placeholder:"name that fungus",value:i,onChange:function(e){var t=e.target.value;t&&D(t),d(e.target.value)}}),r.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicCheckbox"},r.a.createElement(F.a.Check,{type:"checkbox",label:"uncertain/unknown",onChange:function(e){U||A(!0),U&&A(!1)}})),r.a.createElement(F.a.Control,{id:"common",type:"text",placeholder:"common names",value:b,onChange:function(e){var t=e.target.value.split(",");t&&_(t),h(e.target.value)}}),r.a.createElement(F.a.Control,{id:"notes",type:"text",placeholder:"notes",value:j,onChange:function(e){var t=e.target.value;t&&H(t),y(e.target.value)}}),r.a.createElement("div",{className:"upload-button"})))),r.a.createElement(L.a.Footer,null,r.a.createElement(T.a,{onClick:function(e){return Z(e)}},"upload")))}var z=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"show-modal-button",onClick:function(e){return l(!0)}},"add an image"),r.a.createElement(_,{show:c,onHide:function(e){return l(!1)},loadimages:e.loadimages}))};a(279);var J=function(){var e=Object(n.useContext)(v),t=e.state,a=e.dispatch,l=Object(n.useState)(!0),o=Object(s.a)(l,2),u=o[0],i=o[1],d=Object(n.useState)([]),g=Object(s.a)(d,2),b=g[0],h=g[1],E=t.user,O=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({url:"".concat("https://react-forager.herokuapp.com","/auth/mine"),params:{user:E}});case 2:t=e.sent,h(t.data),a({type:"fetchSuccess",payload:t.data});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(){setTimeout(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:i(!1),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,t=e.t0,a({type:"fetchFail",payload:{error:t.message}});case 10:case"end":return e.stop()}var t}),e,null,[[0,6]])}))),0)}return Object(n.useEffect)((function(){j()}),[]),u?r.a.createElement("div",{className:"loading"},"...loading"):r.a.createElement(I.a,{cloudName:"fung-id"},r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"gallery"},r.a.createElement("div",{className:"images"},b.length?r.a.createElement("div",{key:b.id,className:"thumbnails-inner"},b.reverse().map((function(e){return r.a.createElement("div",{key:e._id,className:"image-one"},r.a.createElement(c.c,{to:"/detail/".concat(e._id)},r.a.createElement(I.b,{key:e._id,src:e.thumbnail,latitude:e.latitude,longitude:e.longitude,tags:e.tags})))}))):r.a.createElement("div",{className:"empty-gallery"},r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"mushroom emoji"},"\ud83c\udf44"),r.a.createElement("span",null," insert some fungus among us--please and thank you "),r.a.createElement("span",{role:"img","aria-label":"mushroom emoji"},"\ud83c\udf44")))),r.a.createElement("div",{className:"image-upload-area"},r.a.createElement(z,{loadimages:j})))))},B=a(295),H=a(60),P=a(291);function R(e){var t=Object(n.useContext)(v).state.images._id,a=Object(n.useState)({}),c=Object(s.a)(a,2),l=c[0],o=c[1],u="https://react-forager.herokuapp.com",i=function(e,t){o(Object(E.a)(Object(E.a)({},l),{},Object(H.a)({},e,t)))};function d(){return(d=Object(p.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(u,"/auth/edit"),{method:"PUT",body:JSON.stringify({name:l.name,_id:t,commonNames:l.common,notes:l.notes}),headers:{"Content-Type":"application/json"}});case 3:o(Object(E.a)(Object(E.a)({},l),{},{name:"",common:"",notes:""})),e.loadImage(),e.onHide(!1),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return r.a.createElement(L.a,Object.assign({},e,{show:e.show,size:"md","aria-labelledby":"contained-modal-title"}),r.a.createElement(L.a.Body,null,r.a.createElement(P.a,null,r.a.createElement(F.a,null,r.a.createElement(F.a.Group,{controlId:"form.Edit"},r.a.createElement(F.a.Label,null,"species"),r.a.createElement(F.a.Control,{value:l.name,type:"text",placeholder:"species, if known",onChange:function(e){return i("name",e.target.value)}}),r.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicCheckbox"}),r.a.createElement(F.a.Group,{controlId:"form.common"},r.a.createElement(F.a.Label,null,"common name(s)"),r.a.createElement(F.a.Control,{value:l.common,type:"text",placeholder:"comma separated",onChange:function(e){return i("common",e.target.value)}})),r.a.createElement(F.a.Group,{controlId:"form.Textarea"},r.a.createElement(F.a.Label,null,"notes"),r.a.createElement(F.a.Control,{as:"textarea",rows:3,value:l.notes,placeholder:"notes",onChange:function(e){return i("notes",e.target.value)}})))))),r.a.createElement(L.a.Footer,null,r.a.createElement(T.a,{onClick:function(e){return function(e){return d.apply(this,arguments)}(e)}},"save")))}var W=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{onClick:function(e){return l(!0)}},"edit details"),r.a.createElement(R,{show:c,onHide:function(e){return l(!1)},loadImage:e.loadImage}))},D=a(292),G=a(298),M=a(293),U=a(294);a(280);var A=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(s.a)(l,2),u=o[0],i=o[1],m=Object(n.useState)(),p=Object(s.a)(m,2),d=p[0],f=p[1],g=Object(n.useState)(),b=Object(s.a)(g,2),h=b[0],E=b[1],O=Object(n.useState)(),j=Object(s.a)(O,2),y=(j[0],j[1]),w=Object(n.useContext)(v).state;return Object(n.useEffect)((function(){i(w.images.latitude),f(w.images.longitude),y(w.images.commonNames[0]),c(!1),E(w.images.latitude+","+w.images.longitude)}),[]),a?r.a.createElement("div",null,"...loading"):r.a.createElement("div",{className:"mapid"},r.a.createElement(D.a,{center:[u,d],zoom:17,scrollWheelZoom:!0},r.a.createElement(G.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(M.a,{position:[u,d]},r.a.createElement(U.a,null,r.a.createElement("a",{href:"https://www.google.com/maps?q=".concat(h),target:"_blank",rel:"noopener noreferrer"},"directions")))))};a(281);var V=function(){var e=Object(u.f)().id,t=Object(u.e)(),a=Object(n.useContext)(v),c=a.state,l=a.dispatch,o=Object(n.useState)([]),i=Object(s.a)(o,2),d=i[0],g=i[1],b=Object(n.useState)(!0),h=Object(s.a)(b,2),E=h[0],O=h[1],j=Object(n.useState)([]),y=Object(s.a)(j,2),w=y[0],x=y[1],k=Object(n.useState)(),N=Object(s.a)(k,2),S=(N[0],N[1]),C=Object(n.useState)(),L=Object(s.a)(C,2),F=L[0],T=L[1],_=e,z="https://react-forager.herokuapp.com",J=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({url:"".concat(z,"/auth/detail"),params:{_id:_}});case 2:t=e.sent,l({type:"fetchSuccess",payload:t.data[0]}),g(t.data[0].imageurl),a=t.data[0].created.split(":"),x(a[1]+"/"+a[2]+"/"+a[0]),S(t.data[0].latitude+", "+t.data[0].longitude),T(t.data[0].commonNames);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(){setTimeout(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J();case 3:O(!1),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,t=e.t0,l({type:"fetchFail",payload:{error:t.message}});case 10:case"end":return e.stop()}var t}),e,null,[[0,6]])}))),0)}function P(){return(P=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(_),e.prev=1,e.next=4,f()({method:"DELETE",url:"".concat(z,"/auth/delete"),params:{_id:_}}).then(t.push("/gallery"));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0.message);case 9:case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){H()}),[]),E?r.a.createElement("div",{className:"loading-detail"},"...loading"):r.a.createElement(I.a,null,r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"detail-container"},r.a.createElement("div",{className:"top-row"},r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"detail-title"},r.a.createElement("li",{className:"tag-one"},r.a.createElement("h5",{className:"image-title"},c.images.name))),r.a.createElement("div",{className:"detail-thumbnail"},r.a.createElement(I.b,{src:d,alt:d.alt}))),r.a.createElement("div",{className:"notes"},r.a.createElement("div",{className:"edit-outer"},r.a.createElement("div",{className:"edit"},r.a.createElement(B.a,null,r.a.createElement(B.a.Toggle,{variant:"light",id:"dropdown-basic"},"\u2022\u2022\u2022"),r.a.createElement(B.a.Menu,null,r.a.createElement("div",{className:"edit-newmodal"},r.a.createElement(W,{loadImage:H})),r.a.createElement(B.a.Item,null,r.a.createElement("p",{onClick:function(){return P.apply(this,arguments)}},"delete this image from my collection")))))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h5",null,"found: "),w),r.a.createElement("li",null,r.a.createElement("h5",null,"species: "),c.images.name),r.a.createElement("li",null,r.a.createElement("h5",null,"aka: "),F.length?r.a.createElement("div",null,F.map((function(e,t){return r.a.createElement("div",{key:t},e)}))):r.a.createElement("p",null)),r.a.createElement("li",null,r.a.createElement("h5",null,"notes:"),c.images.notes)))),r.a.createElement("div",{className:"detail-map"},r.a.createElement(A,null)))))},Z=a(88);a(283);var q=function(e){var t,a=Object(n.useState)(!0),l=Object(s.a)(a,2),o=l[0],u=l[1],i=Object(n.useState)([]),d=Object(s.a)(i,2),g=d[0],b=d[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),O=(E[0],E[1]),j=Object(n.useState)([]),y=Object(s.a)(j,2),w=(y[0],y[1]),x=Object(n.useState)([]),k=Object(s.a)(x,2),N=k[0],S=k[1],C=Object(n.useState)([]),I=Object(s.a)(C,2),L=I[0],F=I[1],_=Object(n.useState)(""),z=Object(s.a)(_,2),J=z[0],B=z[1],H=Object(n.useState)("name"),P=Object(s.a)(H,2),R=P[0],W=P[1],A=Object(n.useContext)(v),V=A.state,q=A.dispatch,$=V.user,K=Object(Z.a)(new Set(g.map((function(e){return e.name})))),Q=Object(Z.a)(new Set(g.map((function(e){return e.commonNames[0]})))),X="https://react-forager.herokuapp.com",Y=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({url:"".concat(X,"/auth/mine"),params:{user:$}});case 2:t=e.sent,q({type:"fetchSuccess",payload:t.data}),b(t.data),S(t.data),O(K),F([t.data[0].latitude,t.data[0].longitude]),B(15);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"name"===R&&(a=t.target.innerHTML,n=null),"common"===R&&(a=null,n=t.target.innerHTML,console.log(n)),e.next=6,f()({url:"".concat(X,"/auth/locate"),params:{user:$,name:a,commonNames:n}});case 6:r=e.sent,console.log(r.data),console.log(g),S(r.data),O(K),w(Q),F([r.data[0].latitude,r.data[0].longitude]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t="name"===R?K.map((function(e,t){return 0===K.length?r.a.createElement("div",null,"..."):void 0===e?null:r.a.createElement("div",{key:t},r.a.createElement("li",{onClick:ee},e))})):Q.map((function(e,t){return 0===Q.length?r.a.createElement("div",null,"..."):r.a.createElement("div",{key:t},r.a.createElement("li",{onClick:ee},e))})),Object(n.useEffect)((function(){setTimeout(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:u(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),0)}),[]),o?r.a.createElement("div",null,"...loading"):r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"large-map-view"},r.a.createElement("div",{className:"all-tags"},r.a.createElement("h4",null,"tags"),r.a.createElement("div",{className:"tags-div"},r.a.createElement("div",{className:"sort-button"},r.a.createElement(T.a,{size:"sm",onClick:function(){"name"===R&&W("common"),"common"===R&&W("name")}},"toggle sort")),t),r.a.createElement("div",{className:"clear-selection"},r.a.createElement("li",{onClick:function(){S(g),F([g[0].latitude,g[0].longitude])}},"clear selection"))),r.a.createElement("div",{className:"mapid"},r.a.createElement("div",{className:"leaflet-container-large"},r.a.createElement(D.a,{key:JSON.stringify(L),className:"map-container",center:L,zoom:J,scrollWheelZoom:!0},r.a.createElement(G.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),N.map((function(e,t){return r.a.createElement(M.a,{key:t,position:[e.latitude,e.longitude]},r.a.createElement(U.a,null,r.a.createElement("img",{src:e.thumbnail,style:{width:300,borderRadius:10},alt:e.alt}),r.a.createElement(c.c,{to:"/detail/".concat(e._id)},r.a.createElement("p",{className:"popup-text"},e.name||e.commonNames[0]))))})))))))};var $=function(){var e=Object(n.useContext)(h).loggedIn;return r.a.createElement(c.b,null,r.a.createElement(C,null),r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(N,null)),!1===e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{exact:!0,path:"/register"},r.a.createElement(w,null)),r.a.createElement(u.a,{exact:!0,path:"/login"},r.a.createElement(y,null))),!0===e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{exact:!0,path:"/gallery"},r.a.createElement(J,null)),r.a.createElement(u.a,{exact:!0,path:"/detail/:id"},r.a.createElement(V,null)),r.a.createElement(u.a,{exact:!0,path:"/map"},r.a.createElement(q,null))))};f.a.defaults.withCredentials=!0;var K=function(){var e=Object(n.useReducer)(j,O),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){c({type:"login",payload:JSON.parse(window.localStorage.getItem("user"))})}),[]),r.a.createElement(v.Provider,{value:{state:a,dispatch:c}},r.a.createElement(b,null,r.a.createElement($,null)))},Q=(a(284),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function X(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(285);o.a.render(r.a.createElement(c.a,null,r.a.createElement(K,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Q?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):X(e)}))}}()},99:function(e,t,a){}},[[134,1,2]]]);
//# sourceMappingURL=main.8463eb83.chunk.js.map