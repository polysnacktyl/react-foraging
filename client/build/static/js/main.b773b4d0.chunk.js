(this["webpackJsonpfungi-react"]=this["webpackJsonpfungi-react"]||[]).push([[0],{101:function(e,t,a){e.exports=a(249)},106:function(e,t,a){},223:function(e,t,a){},228:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(94),i=a.n(l),o=(a(106),a(12)),r=a(2),u=a(15);a(223);var m=function(){return c.a.createElement("div",{className:"navbar"},c.a.createElement("div",{className:"nav-links"},c.a.createElement(o.c,{exact:!0,activeClassName:"active",to:"/"},"home"),c.a.createElement(o.c,{exact:!0,activeClassName:"active",to:"/gallery"},"gallery"),c.a.createElement(o.c,{exact:!0,activeClassName:"active",to:"/home"},"map"),c.a.createElement(o.c,{exact:!0,activeClassName:"active",to:"/home"},"login")))},s=a(96),d=a.n(s),f=(a(228),function(){return c.a.createElement("div",{className:"content-container"},c.a.createElement("div",{className:"welcome"},c.a.createElement("img",{src:d.a,alt:"mushroom"}),c.a.createElement("p",null,"i'm a pretty fungi")))}),g=a(36),p=a(97),E=a(98),h=a(35),v=a(100),b=a(99),N=a(26),_=a.n(N),w=function(){return _.a.get("/api/uploads")},y=function(e){return _.a.get("/api/uploads/"+e)},O=function(e){return _.a.post("/api/uploads",e)},j=(a(246),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleImageUpload=function(){var e=document.querySelector('input[type="file"]').files,t=new FormData;return t.append("file",e[0]),t.append("upload_preset",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_upload_preset:"cdg9mwym",REACT_APP_cloudName:"fung-id"}).REACT_APP_UPLOAD_PRESET),fetch("https://api.Cloudinary.com/v1_1/fung-id/image/upload",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({imageurl:e.url,latitude:e.image_metadata.GPSLatitude,longitude:e.image_metadata.GPSLongitude,created:e.image_metadata.CreateDate})})).then((function(e){O({imageurl:n.state.imageurl,latitude:n.state.latitude,longitude:n.state.longitude,created:n.state.created})}))},n.state={images:[],imageurl:null,imageAlt:null},n.handleImageUpload=n.handleImageUpload.bind(Object(h.a)(n)),n}return Object(E.a)(a,[{key:"render",value:function(){return c.a.createElement("section",{className:"image-upload"},c.a.createElement("div",{className:"image-upload-form"},c.a.createElement("input",{type:"file",accept:"image/*"})),c.a.createElement("div",{className:"text-input"},c.a.createElement("input",{type:"text",placeholder:"name this fungus"}),c.a.createElement("input",{type:"text",placeholder:"notes"})),c.a.createElement("button",{type:"button",className:"image-upload-button",onClick:this.handleImageUpload},"submit"))}}]),a}(c.a.Component));a(247);var C=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],l=t[1];function i(){w().then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){i()}),[]),c.a.createElement("div",{className:"content-container"},c.a.createElement("div",{className:"gallery"},c.a.createElement(u.a,{cloudName:"fung_id"},a.length?c.a.createElement("div",{key:a.id,className:"uploads-each"},a.map((function(e){return c.a.createElement("div",{key:e._id,className:"image-one"},c.a.createElement(o.b,{to:"/detail/".concat(e._id),imageurl:e.imageurl},c.a.createElement(u.b,{key:e._id,src:e.imageurl})))}))):c.a.createElement("p",null,c.a.createElement("span",{role:"img","aria-label":"mushroom emoji"},"\ud83c\udf44")),c.a.createElement("div",{className:"image-upload-button"},c.a.createElement("form",null,c.a.createElement(j,{onSubmit:function(e){console.log("form submit registered correctly"),O({imageurl:this.state.imageurl,latitude:this.state.latitude,longitude:this.state.longitude,created:this.state.created}).then(i())}}))))))};a(248);var S=function(e){var t=Object(n.useState)({}),a=Object(g.a)(t,2),l=a[0],i=a[1],o=Object(r.e)().id;return Object(n.useEffect)((function(){y(o).then((function(e){return i(e.data)})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement(u.a,null,c.a.createElement("div",{className:"content-container"},c.a.createElement("div",{className:"detail-thumbnail"},c.a.createElement("div",{className:"detail-image"},c.a.createElement(u.b,{src:l.imageurl}))),c.a.createElement("div",{className:"text-deetz"},c.a.createElement("p",null,l.latitude),c.a.createElement("p",null,l.longitude),c.a.createElement("p",null,l.date))))};var x=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m,null),c.a.createElement(r.a,{exact:!0,path:"/"},c.a.createElement(f,null)),c.a.createElement(r.a,{exact:!0,path:"/home"},c.a.createElement(f,null)),c.a.createElement(r.a,{exact:!0,path:"/gallery"},c.a.createElement(C,null)),c.a.createElement(r.a,{exact:!0,path:"/detail/:id"},c.a.createElement(S,null)))))},k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(c.a.createElement(x,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");k?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):P(e)}))}}()},96:function(e,t,a){e.exports=a.p+"static/media/tester.78729167.svg"}},[[101,1,2]]]);
//# sourceMappingURL=main.b773b4d0.chunk.js.map